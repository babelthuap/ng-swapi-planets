"use strict";var swapiApp=angular.module("swapiApp");swapiApp.controller("PlanetsCtrl",["dataSvc",function(t){var e=this;if(this.planets=t.planets,0===this.planets.length){var s=t.getPlanets();s.then(function(s){var i=s.reduce(function(t,e){return t.concat(e.data.results)},[]);e.planets=i,t.planets=i,window.location.replace("#")},function(t){return console.error(t)})}this.residentName=t.residentName,this.extractId=function(t){return t.split("/").slice(-2)[0]}}]),swapiApp.controller("ResidentCtrl",["$stateParams","dataSvc",function(t,e){var s=this;if(this.id=t.id,this.residents=e.residents,this.residents[this.id])this.character=this.residents[this.id];else{var i=e.getCharacter(this.id);i.then(function(t){s.character=t.data,s.residents[s.id]=t.data},function(t){return console.error(t)})}}]);
