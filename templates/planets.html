<h1>Planets</h1>
<div class="planets">
  <p ng-hide="p.planets">Loading...</p>
  <table class="table table-bordered" ng-show="p.planets">
    <thead>
      <th>Planet</th>
      <th>Residents</th>
    </thead>
    <tbody>
      <tr ng-repeat="planet in p.planets">
        <td>{{planet.name}}</td>
      
        <!-- list residents -->
        <td>
          <ul>
            <li ng-repeat="url in planet.residents">
              <a ui-sref='resident({id: p.extractId(url)})'>
                {{ p.residentName(p.extractId(url), $index) }}
              </a>
            </li>
          </ul>
        </td>
      
      </tr>
    </tbody>
  </table>
</div>
